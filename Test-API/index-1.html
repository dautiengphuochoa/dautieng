<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8" />

    <style type="text/css" media="screen">

    </style>

    <link rel="stylesheet" href="./wwwroot/site.css">

</head>

<body>
    <h1>Test g·ªçi API</h1>
    <button>Fetch</button>
    
    <div id="TableCont">

    </div>

    <script src="./wwwroot/jquery-3.6.0.min.js"></script>
<!-- 
    <input id="idiom" type="text" name="" value="" placeholder="Enter your idiom here">
    <br>
    <button id="submit" type="">Submit</button>
    <script type="text/javascript">
    
    $(document).ready(function(){
        $("#submit").bind('click',function(){
            var idiom=$("#idiom").val();
            $.ajax({
                type: "GET",
                url: 'http://www.oxfordlearnersdictionaries.com/search/english/direct/',
                data:{q:idiom},
                async:true,
                dataType : 'jsonp',   //you may use jsonp for cross origin request
                crossDomain:true,
                success: function(data, status, xhr) {
                    alert(xhr.getResponseHeader('Location'));
                }
            });
            $.ajax({
                type: "GET",
                url: 'http://www.oxfordlearnersdictionaries.com/search/english/direct/',
                data:{q:idiom},
                async:true,
                crossDomain:true,
                success: function(data, status, xhr) {
                    alert(xhr.getResponseHeader('Location'));
                }
            });
            
        });
    });
    </script>
-->

    <script>
        
        $("button").click(function () {
            $.get("http://apiv2.thuyloivietnam.vn/Api/getSoLieuQuanTrac?Key=apiktdlqtDauTieng&MaQuanTrac=7001", function (data, status) {
                // var mydata = eval(data);
                var table = $.makeTable(data);
                $(table).appendTo("#TableCont");
            });
        });

        $(document).makeTable = function (mydata) {
            var table = $('<table class="table table-striped">');
            var tblHeader = "<tr>";
            for (var k in mydata[0])
                tblHeader += "<th class=\"my-th\">" + k + "</th>";
            tblHeader += "</tr>";
            $(tblHeader).appendTo(table);
            $.each(mydata, function (index, value) {
                var TableRow = "<tr>";
                $.each(value, function (key, val) {
                    TableRow += "<td>" + val + "</td>";
                });
                TableRow += "</tr>";
                $(table).append(TableRow);
            });
            return ($(table));
        };

    </script>

</body>

</html>
